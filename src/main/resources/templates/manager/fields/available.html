<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Sân trống</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div th:replace="~{manager/fragments/navbar :: navbar}"></div>
<div class="container">
    <h3 class="mb-3">Sân trống</h3>

    <div class="mb-2">
        <form class="row g-3" method="get" action="/manager/fields/available">
            <div class="col-md-3">
                <label class="form-label">Vị trí</label>
                <select class="form-select" name="locationId">
                    <option th:value="${null}">-- Tất cả --</option>
                    <option th:each="l : ${locations}" th:value="${l.id}" th:text="${l.name}"
                            th:selected="${selectedLocationId != null and selectedLocationId == l.id}"></option>
                </select>
            </div>
            <div class="col-md-3">
                <label class="form-label">Bắt đầu</label>
                <input type="datetime-local" class="form-control" name="start" th:value="${#dates.format(start, 'yyyy-MM-dd\'T\'HH:mm')}" required>
            </div>
            <div class="col-md-3">
                <label class="form-label">Kết thúc</label>
                <input type="datetime-local" class="form-control" name="end" th:value="${#dates.format(end, 'yyyy-MM-dd\'T\'HH:mm')}" required>
            </div>
            <div class="col-md-3 align-self-end">
                <button class="btn btn-outline-success w-100">Tra cứu lại</button>
            </div>
        </form>
    </div>

    <table class="table table-bordered">
        <thead><tr><th>Tên</th><th>Loại</th><th>Mặt sân</th><th>Giá/giờ</th><th>Vị trí</th></tr></thead>
        <tbody>
        <tr th:each="f : ${availableFields}">
            <td th:text="${f.name}"></td>
            <td th:text="${f.fieldType}"></td>
            <td th:text="${f.surfaceType}"></td>
            <td th:text="${f.pricePerHour}"></td>
            <td th:text="${f.location != null ? f.location.name : 'N/A'}"></td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>