<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/manager :: layout(~{::content})}">
<head>
    <title>S√¢n tr·ªëng</title>
</head>

<body>
<div th:fragment="content">
    <div class="container mt-4">
        <h3 class="mb-4 text-primary fw-bold">üèüÔ∏è Danh s√°ch s√¢n tr·ªëng</h3>

        <form class="row g-3 mb-4 card p-3 shadow-sm border-0" method="get" th:action="@{/manager/fields/available}">
            <div class="col-md-3">
                <label class="form-label fw-semibold">V·ªã tr√≠</label>
                <select class="form-select" name="locationId">
                    <option th:value="${null}">-- T·∫•t c·∫£ --</option>
                    <option th:each="l : ${locations}"
                            th:value="${l.id}"
                            th:text="${l.name}"
                            th:selected="${selectedLocationId != null and selectedLocationId == l.id}">
                    </option>
                </select>
            </div>

            <div class="col-md-3">
                <label class="form-label fw-semibold">B·∫Øt ƒë·∫ßu</label>
                <input type="datetime-local"
                       class="form-control"
                       name="start"
                       th:value="${#dates.format(start, 'yyyy-MM-dd\'T\'HH:mm')}"
                       required>
            </div>

            <div class="col-md-3">
                <label class="form-label fw-semibold">K·∫øt th√∫c</label>
                <input type="datetime-local"
                       class="form-control"
                       name="end"
                       th:value="${#dates.format(end, 'yyyy-MM-dd\'T\'HH:mm')}"
                       required>
            </div>

            <div class="col-md-3 align-self-end">
                <button class="btn btn-success w-100 fw-semibold">üîç Tra c·ª©u l·∫°i</button>
            </div>
        </form>

        <div class="table-responsive shadow-sm rounded">
            <table class="table table-striped align-middle">
                <thead class="table-primary">
                <tr>
                    <th>T√™n s√¢n</th>
                    <th>Lo·∫°i s√¢n</th>
                    <th>M·∫∑t s√¢n</th>
                    <th>Gi√° / gi·ªù</th>
                    <th>V·ªã tr√≠</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="f : ${availableFields}">
                    <td th:text="${f.name}"></td>
                    <td th:text="${f.fieldType}"></td>
                    <td th:text="${f.surfaceType}"></td>
                    <td th:text="${#numbers.formatDecimal(f.pricePerHour, 0, 'COMMA', 0, 'POINT')} + ' ƒë'"></td>
                    <td th:text="${f.location != null ? f.location.name : 'N/A'}"></td>
                </tr>
                <tr th:if="${#lists.isEmpty(availableFields)}">
                    <td colspan="5" class="text-center text-muted">
                        Kh√¥ng c√≥ s√¢n tr·ªëng trong th·ªùi gian ƒë√£ ch·ªçn.
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>
