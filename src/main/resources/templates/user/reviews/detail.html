<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/user :: layout(~{::content})}">
<head>
  <meta charset="UTF-8">
  <title>Chi Tiết Đánh Giá</title>
</head>
<body>
<div th:fragment="content">
  <div class="container mt-4">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h2>Chi Tiết Đánh Giá</h2>
          <a href="javascript:history.back()" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Quay Lại
          </a>
        </div>

        <!-- Review Card -->
        <div class="card shadow-sm">
          <div class="card-header bg-primary text-white">
            <h5 class="mb-0">
              <i class="bi bi-star-fill"></i> Đánh Giá Sân Bóng
            </h5>
          </div>
          <div class="card-body">
            <!-- Field Info -->
            <div class="mb-4">
              <h4 class="text-primary" th:text="${review.fieldName}">Tên Sân</h4>
              <a th:href="@{/user/reviews/field/{id}(id=${review.fieldId})}"
                 class="btn btn-sm btn-outline-primary">
                <i class="bi bi-eye"></i> Xem tất cả đánh giá của sân này
              </a>
            </div>

            <hr>

            <!-- Rating -->
            <div class="mb-4">
              <h6 class="text-muted mb-2">Đánh Giá</h6>
              <div class="d-flex align-items-center">
                <div class="me-3">
                                    <span th:each="i : ${#numbers.sequence(1, 5)}"
                                          class="text-warning fs-4">
                                        <i th:class="${i <= review.rating ? 'bi bi-star-fill' : 'bi bi-star'}"></i>
                                    </span>
                </div>
                <h3 class="mb-0 text-warning" th:text="${review.rating} + ' / 5'">5 / 5</h3>
              </div>
            </div>

            <!-- Comment -->
            <div class="mb-4">
              <h6 class="text-muted mb-2">Nhận Xét</h6>
              <div class="p-3 bg-light rounded">
                <p class="mb-0" th:text="${review.comment}">
                  Nhận xét chi tiết về sân bóng...
                </p>
              </div>
            </div>

            <!-- Reviewer Info -->
            <div class="mb-3">
              <h6 class="text-muted mb-2">Người Đánh Giá</h6>
              <div class="d-flex align-items-center">
                <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center me-3"
                     style="width: 50px; height: 50px; font-size: 20px; font-weight: bold;">
                  <span th:text="${#strings.substring(review.customerName, 0, 1)}">A</span>
                </div>
                <div>
                  <strong th:text="${review.customerName}">Tên Khách Hàng</strong>
                  <br>
                  <small class="text-muted">
                    <i class="bi bi-calendar"></i>
                    Đánh giá vào:
                    <span th:text="${#temporals.format(review.createdAt, 'dd/MM/yyyy HH:mm')}">
                                            01/01/2024 10:00
                                        </span>
                  </small>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Field Info Card -->
        <div class="card mt-3">
          <div class="card-body">
            <h6 class="card-title"><i class="bi bi-info-circle"></i> Thông Tin</h6>
            <ul class="mb-0 small">
              <li>Đánh giá này áp dụng cho sân: <strong th:text="${review.fieldName}">Sân X</strong></li>
              <li>Mỗi khách hàng chỉ có thể đánh giá một lần cho mỗi sân</li>
              <li>Chỉ có thể đánh giá sau khi hoàn thành booking</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>